(function(a){a.fn.textFill=function(b){return this.each(function(){var g=a(this);var f={maxFontPixels:24,maxWidth:g.width(),maxHeight:g.height()*0.7,allowWrapping:true};var d=a.extend({},f,b);d.maxHeight=Math.floor(d.maxHeight);d.maxWidth=Math.floor(d.maxWidth);var e=d.maxFontPixels;var c=g.text();var h=a("<div/>").text(c);g.text("").append(h);do{h.css({"font-size":e,"line-height":"1em"});e=e-1}while(h.height()>d.maxHeight&&e>3);if(h.width()>=d.maxWidth){do{h.css({"font-size":e,"line-height":"1em"});e=e-1}while(h.width()>d.maxWidth&&e>3)}h.css({"margin-top":(g.height()-h.height())/2,"margin-left":(g.width()-h.width())/2,"text-align":"center"})})}})(jQuery);